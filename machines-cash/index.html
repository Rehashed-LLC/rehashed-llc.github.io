<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title> Schema </title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f9fafb; }
  pre { background: #1e1e1e; color: #dcdcdc; padding: 20px; border-radius: 8px; overflow-x: auto; }
  h1 { font-size: 24px; }
</style>
</head>
<body>

<pre><code>
<!-- Paste the user’s full React code here exactly as-is -->
YOUR ORIGINAL REACT CODE GOES HERE


import React from ‘react’;
import { Database, CreditCard, User, Wallet, FileText, DollarSign, Layers } from ‘lucide-react’;

const SchemaCard = ({ title, icon: Icon, fields, relationships }) => (

  <div className="bg-white rounded-lg shadow-md border-2 border-gray-200 p-4 min-w-64">
    <div className="flex items-center gap-2 mb-3 pb-2 border-b-2 border-blue-500">
      <Icon className="w-5 h-5 text-blue-600" />
      <h3 className="font-bold text-lg text-gray-800">{title}</h3>
    </div>
    <div className="space-y-1">
      {fields.map((field, idx) => (
        <div key={idx} className="text-sm font-mono">
          <span className={field.isPrimary ? "text-blue-600 font-semibold" : "text-gray-700"}>
            {field.name}
          </span>
          <span className="text-gray-400 ml-2">{field.type}</span>
          {field.unique && <span className="text-purple-600 ml-1 text-xs">UNIQUE</span>}
        </div>
      ))}
    </div>
    {relationships && relationships.length > 0 && (
      <div className="mt-3 pt-3 border-t border-gray-200">
        <div className="text-xs font-semibold text-gray-500 mb-1">RELATIONSHIPS</div>
        {relationships.map((rel, idx) => (
          <div key={idx} className="text-xs text-gray-600">→ {rel}</div>
        ))}
      </div>
    )}
  </div>
);

const ConnectionLine = ({ from, to, label }) => (

  <div className="flex items-center gap-2 text-sm text-gray-500">
    <div className="h-px bg-gray-300 flex-1" />
    {label && <span className="bg-gray-100 px-2 py-1 rounded text-xs">{label}</span>}
    <div className="h-px bg-gray-300 flex-1" />
  </div>
);

export default function SimplifiedSchema() {
const schemas = {
user: {
title: “User”,
icon: User,
fields: [
{ name: “id”, type: “String”, isPrimary: true },
{ name: “email”, type: “String?”, unique: true },
{ name: “username”, type: “String?”, unique: true },
{ name: “firstName”, type: “String?” },
{ name: “lastName”, type: “String?” },
{ name: “primarySigningKey”, type: “String?” },
{ name: “onboardingStatus”, type: “Enum” },
{ name: “kycStatus”, type: “Enum” },
{ name: “userType”, type: “Enum” },
{ name: “createdAt”, type: “DateTime” },
{ name: “lastLoginAt”, type: “DateTime?” },
],
relationships: [“Has many: Auth, Contract, Folder, Card, VirtualAccount”]
},
auth: {
title: “Auth”,
icon: Wallet,
fields: [
{ name: “id”, type: “String”, isPrimary: true },
{ name: “userId”, type: “String” },
{ name: “authType”, type: “Enum” },
{ name: “authIdentifier”, type: “String”, unique: true },
{ name: “isVerified”, type: “Boolean” },
{ name: “isPrimary”, type: “Boolean” },
{ name: “createdAt”, type: “DateTime” },
],
relationships: [“Belongs to: User”]
},
contract: {
title: “Contract”,
icon: FileText,
fields: [
{ name: “id”, type: “String”, isPrimary: true },
{ name: “userId”, type: “String” },
{ name: “contractAddress”, type: “String”, unique: true },
{ name: “chainId”, type: “Int” },
{ name: “name”, type: “String?” },
{ name: “isDefault”, type: “Boolean” },
{ name: “totalBalance”, type: “Decimal” },
{ name: “availableBalance”, type: “Decimal” },
{ name: “dailyLimit”, type: “Decimal?” },
{ name: “monthlyLimit”, type: “Decimal?” },
{ name: “status”, type: “Enum” },
{ name: “createdAt”, type: “DateTime” },
],
relationships: [“Belongs to: User”, “Has many: Card, VirtualAccount”]
},
folder: {
title: “Folder”,
icon: Layers,
fields: [
{ name: “id”, type: “String”, isPrimary: true },
{ name: “userId”, type: “String” },
{ name: “contractId”, type: “String?” },
{ name: “name”, type: “String” },
{ name: “description”, type: “String?” },
{ name: “color”, type: “String?” },
{ name: “emoji”, type: “String?” },
{ name: “sortOrder”, type: “Int” },
{ name: “isCollapsed”, type: “Boolean” },
{ name: “createdAt”, type: “DateTime” },
],
relationships: [“Belongs to: User, Contract?”, “Has many: Card”]
},
card: {
title: “Card”,
icon: CreditCard,
fields: [
{ name: “id”, type: “String”, isPrimary: true },
{ name: “contractId”, type: “String” },
{ name: “folderId”, type: “String?” },
{ name: “providerId”, type: “String”, unique: true },
{ name: “providerName”, type: “String” },
{ name: “last4”, type: “String” },
{ name: “brand”, type: “Enum” },
{ name: “name”, type: “String?” },
{ name: “emoji”, type: “String?” },
{ name: “dailyLimit”, type: “Decimal?” },
{ name: “monthlyLimit”, type: “Decimal?” },
{ name: “isPinned”, type: “Boolean” },
{ name: “sortOrder”, type: “Int” },
{ name: “status”, type: “Enum” },
{ name: “createdAt”, type: “DateTime” },
],
relationships: [“Belongs to: Contract, Folder?”]
},
subscription: {
title: “Subscription”,
icon: Database,
fields: [
{ name: “id”, type: “String”, isPrimary: true },
{ name: “userId”, type: “String” },
{ name: “tier”, type: “Enum” },
{ name: “status”, type: “Enum” },
{ name: “price”, type: “Decimal” },
{ name: “maxContracts”, type: “Int” },
{ name: “maxCards”, type: “Int” },
{ name: “maxFolders”, type: “Int” },
{ name: “monthlyTxLimit”, type: “Int?” },
{ name: “dailySpendLimit”, type: “Decimal?” },
{ name: “features”, type: “Json” },
{ name: “startDate”, type: “DateTime” },
{ name: “endDate”, type: “DateTime?” },
{ name: “autoRenew”, type: “Boolean” },
],
relationships: [“Belongs to: User”]
},
virtualAccount: {
title: “VirtualAccount”,
icon: DollarSign,
fields: [
{ name: “id”, type: “String”, isPrimary: true },
{ name: “userId”, type: “String” },
{ name: “contractId”, type: “String?” },
{ name: “providerAccountId”, type: “String”, unique: true },
{ name: “accountType”, type: “Enum” },
{ name: “balance”, type: “Decimal” },
{ name: “currency”, type: “String” },
{ name: “status”, type: “Enum” },
{ name: “createdAt”, type: “DateTime” },
],
relationships: [“Belongs to: User, Contract?”]
}
};

return (
<div className="w-full h-full bg-gradient-to-br from-gray-50 to-gray-100 p-8 overflow-auto">
<div className="max-w-7xl mx-auto">
<div className="mb-8">
<h1 className="text-3xl font-bold text-gray-800 mb-2">Simplified Database Schema</h1>
<p className="text-gray-600">machines.cash - Core entities and relationships</p>
</div>

```
    <div className="space-y-6">
      {/* Row 1: User and Auth */}
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <SchemaCard {...schemas.user} />
        <SchemaCard {...schemas.auth} />
      </div>

      <ConnectionLine label="1:N" />

      {/* Row 2: Contract and Subscription */}
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <SchemaCard {...schemas.contract} />
        <SchemaCard {...schemas.subscription} />
      </div>

      <ConnectionLine label="1:N" />

      {/* Row 3: Folder and Card */}
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <SchemaCard {...schemas.folder} />
        <SchemaCard {...schemas.card} />
      </div>

      <ConnectionLine label="1:N" />

      {/* Row 4: VirtualAccount */}
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <SchemaCard {...schemas.virtualAccount} />
        <div className="bg-blue-50 rounded-lg border-2 border-blue-200 p-6">
          <h3 className="font-bold text-lg text-blue-800 mb-4">Key Relationships</h3>
          <div className="space-y-3 text-sm text-gray-700">
            <div className="flex items-start gap-2">
              <div className="w-2 h-2 bg-blue-500 rounded-full mt-1.5" />
              <div>
                <span className="font-semibold">User → Auth:</span> One-to-Many (multiple login methods)
              </div>
            </div>
            <div className="flex items-start gap-2">
              <div className="w-2 h-2 bg-blue-500 rounded-full mt-1.5" />
              <div>
                <span className="font-semibold">User → Contract:</span> One-to-Many (multiple balances)
              </div>
            </div>
            <div className="flex items-start gap-2">
              <div className="w-2 h-2 bg-blue-500 rounded-full mt-1.5" />
              <div>
                <span className="font-semibold">Contract → Card:</span> One-to-Many
              </div>
            </div>
            <div className="flex items-start gap-2">
              <div className="w-2 h-2 bg-blue-500 rounded-full mt-1.5" />
              <div>
                <span className="font-semibold">Folder → Card:</span> One-to-Many (organization)
              </div>
            </div>
            <div className="flex items-start gap-2">
              <div className="w-2 h-2 bg-blue-500 rounded-full mt-1.5" />
              <div>
                <span className="font-semibold">User → Subscription:</span> One-to-One (tier constraints)
              </div>
            </div>
            <div className="flex items-start gap-2">
              <div className="w-2 h-2 bg-blue-500 rounded-full mt-1.5" />
              <div>
                <span className="font-semibold">Contract → VirtualAccount:</span> Optional One-to-Many
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Enums Reference */}
      <div className="bg-white rounded-lg shadow-md border-2 border-gray-200 p-6 mt-8">
        <h3 className="font-bold text-lg text-gray-800 mb-4">Enum Definitions</h3>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div>
            <h4 className="font-semibold text-sm text-gray-700 mb-2">Auth Types</h4>
            <div className="text-xs font-mono text-gray-600 space-y-1">
              <div>• EMAIL</div>
              <div>• WALLET</div>
              <div>• SOCIAL</div>
            </div>
          </div>
          <div>
            <h4 className="font-semibold text-sm text-gray-700 mb-2">Subscription Tiers</h4>
            <div className="text-xs font-mono text-gray-600 space-y-1">
              <div>• HOBBY ($0/mo)</div>
              <div>• PLUS ($9/mo)</div>
              <div>• PRO ($29/mo)</div>
            </div>
          </div>
          <div>
            <h4 className="font-semibold text-sm text-gray-700 mb-2">Onboarding Status</h4>
            <div className="text-xs font-mono text-gray-600 space-y-1">
              <div>• NOT_STARTED</div>
              <div>• IN_PROGRESS</div>
              <div>• COMPLETED</div>
            </div>
          </div>
        </div>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
          <div>
            <h4 className="font-semibold text-sm text-gray-700 mb-2">General Statuses</h4>
            <div className="text-xs font-mono text-gray-600 space-y-1">
              <div>• ACTIVE</div>
              <div>• PENDING</div>
              <div>• SUSPENDED</div>
              <div>• CLOSED</div>
            </div>
          </div>
          <div>
            <h4 className="font-semibold text-sm text-gray-700 mb-2">KYC Status</h4>
            <div className="text-xs font-mono text-gray-600 space-y-1">
              <div>• PENDING</div>
              <div>• IN_PROGRESS</div>
              <div>• APPROVED</div>
              <div>• REJECTED</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
```

);
}

</code></pre>

</body>
</html>